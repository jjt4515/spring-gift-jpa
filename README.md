# spring-gift-jpa

### 기능 요구 사항

지금까지 작성한 JdbcTemplate 기반 코드(https://github.com/jjt4515/spring-gift-wishlist/tree/step3) 를 
JPA로 리팩터링하고 실제 도메인 모델을 어떻게 구성하고 객체와 테이블을 어떻게 매핑해야 하는지 알아본다.

아래의 DDL(Data Definition Language)을 보고 유추하여 엔티티 클래스와 리포지토리 클래스를 작성해 본다.
@DataJpaTest를 사용하여 학습 테스트를 해 본다.

```
create table member
(
    id       bigint generated by default as identity,
    email    varchar(255) not null unique,
    password varchar(255) not null,
    primary key (id)
)
```

```
create table product
(
    price     integer      not null,
    id        bigint generated by default as identity,
    name      varchar(15)  not null,
    image_url varchar(255) not null,
    primary key (id)
)
```

```
create table wish
(
    id         bigint generated by default as identity,
    member_id  bigint not null,
    product_id bigint not null,
    primary key (id)
)
```

### 구현 기능 목록

- JPA 설정
  - application.properties 파일 설정
    - H2 데이터베이스 설정
    - Hibernate SQL 로그 설정

- 엔티티 클래스 작성
  - Member 엔티티 클래스 작성
    - id: Long, 자동 생성
    - email: String, 유니크
    - password: String
  - Product 엔티티 클래스 작성
    - id: Long, 자동 생성
    - name: String, 최대 길이 15
    - imageUrl: String
    - price: Integer
  - Wish 엔티티 클래스 작성
    - id: Long, 자동 생성
    - memberId: Member 객체와 연관관계
    - productId: Product 객체와 연관관계
  - Token 엔티티 클래스 작성
    - id: Long, 자동 생성
    - token: String, 길이 255
    - email: Member 객체와 연관관계
      
- 리포지토리 클래스 작성
  - MemberJpaRepository 작성
  - ProductJpaRepository 작성
  - WishJpaRepository 작성
  - TokenJpaRepository 작성

- 테스트 코드 작성
  - MemberRepository 테스트 작성
  - MemberService 테스트 작성
  - ProductRepository 테스트 작성
  - ProductService 테스트 작성
  - WishRepository 테스트 작성
  - WishService 테스트 작성
  - TokenRepository 테스트 작성
  - TokenService 테스트 작성
